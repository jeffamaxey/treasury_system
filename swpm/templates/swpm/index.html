{% extends "swpm/layout.html" %}
{% load static %}
{% load humanize %}

{% block body %}
<section class="about-header container border-bottom text-center"><h1>SWPM</h1></section><br>

<div class="trade-ticket">
	<form action="{% url 'pricing' %}" method="post" >
		<fieldset>
			<legend>FX Option</legend>
				<table>
					{{ as_of_form.as_table }}
					{{ myFXOform.as_table }}
					{{ trade_detail_form.as_table }}
				</table>
				<button type="submit" class="btn btn-default">Price</button>
				<button type="submit" class="btn btn-default" formaction="{% url 'pricing-do' %}">Do</button>
		</fieldset>
	</form>
</div><br>

{% if results.npv %}
	<div class='valuation'>
		<table class='valuation-table'>
			<tr><td>Spot</td><td>{{ market_data.spot|floatformat:4 }}</td></tr>
			<tr><td>NPV</td><td>{{ results.npv|floatformat:2 | intcomma }}</td></tr>
			<tr><td>Delta</td><td>{{ results.delta|floatformat:2 | intcomma }}</td></tr>
			<tr><td>Gamma</td><td>{{ results.gamma|floatformat:2 | intcomma }}</td></tr>
			<tr><td>Vega</td><td>{{ results.vega|floatformat:2 | intcomma }}</td></tr>
		</table>
	</div><br>
{% endif %}

<div class='ccypair'>
	<form action="{% url 'ccypair' %}" method="post">
		<fieldset>
			<legend>Currency Pair</legend>
			<table>{{ myform.as_table }}</table>
			<button type="submit" class="btn btn-default">Save</button>
		</fieldset>
	</form>
	<span class='ccypair-msg'>{{ message }}<span>
</div><br>

<span>Now time: {{ mytime }}</span>

{% endblock %}


{% block script %}
	<script src="{% static 'swpm/index.js' %}"></script>
	<script src="{% static 'swpm/jquery-3.6.0.slim.min.js' %}"></script>
{% endblock %}
